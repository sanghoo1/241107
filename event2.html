<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>event2-DomContentLoaded</title>
    <script>
      //1
      //const txt = '제목'; //전역변수 
      //const h1 = `<h1>${txt}</h1>`;

      const write = (txt) => {//위의 전역변수를 참조하는 것이 아닌 매개변수(지역변수)임.
        return   `<h2>${txt}</h2>`; //지역변수가{}를 빠져나오게 해줌 return
      }
      // innerHTML 을 쓰면 오류가 난다. dom을 읽기 전에 스크립트가 실행이 되기 때문이다. 
      /*document.body.innerHTML = `<h2>내용출력</h2>`;
      document.body.innerHTML = write(1);
        */
       /*
       문서 준비 이벤트는 DOM을 만들고 나서 실행하기 때문에 제일 마지막에 반환
       DOM,CSSOM 등 외부 노드들도 모두 불러왔을 때 실행(컨텐츠포함)
       속도가 느리다.
       window.onload = function() {
        document.body.innerHTML += `<h2>window.onload</h2>`;
       }  마지막에 출력이 된다.
         */
        // 마지막에 출력이 되지만  window.onload와 다르다. 다른 외부 노드 상관없이 DOM만 불러오면 실행. 이미지나 영상등을 기다리지 않음
      document.addEventListener('DOMContentLoaded', () => {
        document.body.innerHTML += `<h2>DOMContentLoaded</h2>`;
      });
  </script>
  <!-- <script src="" defer 문서준비이벤트를 쓰지 않아도 된다 ></script> -->
</head>
<body>
  <script>
    //2 h2 구조가 만들어 진 후 h1구조가 나온다.
   // document.body.innerHTML = write(1);
    document.body.innerHTML += write(1);
  </script>
  <h1>event2-DOMContentLoaded</h1>
  <p><a href="https://ko.javascript.info/onload-ondomcontentloaded" target="_blank">DOMContentLoaded</a></p>

  <script>
    // addEventListener 에 속해있는 메서드
    //3
   // document.body.innerHTML = write(2);  기본 성격은 덮어쓰기 이기 때문에 다 사라지고 h2만 남는다.
   document.body.innerHTML += write(2);
  </script>
</body>
</html>